# ===================================
# GPS Community Backend - Configuración de Entorno
# ===================================

# Entorno de Ejecución
NODE_ENV=development
PORT=3000

# ===================================
# MongoDB Atlas
# ===================================
# URI de conexión a MongoDB Atlas
# Formato: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority&appName=<appName>
MONGODB_URI=mongodb+srv://milith0dev_db_user:1997281qA@cluster0.cpt00yd.mongodb.net/gps_community_dev?retryWrites=true&w=majority&appName=Cluster0

# Nombre de la base de datos por ambiente
DATABASE_NAME_DEV=gps_community_dev
DATABASE_NAME_TEST=gps_community_test
DATABASE_NAME_STAGING=gps_community_staging
DATABASE_NAME_PROD=gps_community_prod

# ===================================
# JWT (JSON Web Tokens)
# ===================================
# Secret para firmar tokens (CAMBIAR EN PRODUCCIÓN - min 32 caracteres)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-32chars-minimum

# Duración de tokens
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=30d

# ===================================
# CORS - Frontend URL
# ===================================
# URL del frontend Flutter (para CORS)
FRONTEND_URL=http://localhost:3000

# En producción usar:
# FRONTEND_URL=https://app.gpscommunity.com

# ===================================
# Firebase (Opcional - Para autenticación)
# ===================================
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=
FIREBASE_STORAGE_BUCKET=

# Path al archivo de credenciales de Firebase
# FIREBASE_CREDENTIALS_PATH=./firebase-credentials.json

# ===================================
# Redis (Opcional - Para cache y sessions)
# ===================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===================================
# Email / SMTP (Para notificaciones)
# ===================================
EMAIL_ENABLED=false
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_FROM=noreply@gpscommunity.com
EMAIL_FROM_NAME=GPS Community

# ===================================
# Rate Limiting
# ===================================
# Ventana de tiempo en milisegundos (60000 = 1 minuto)
RATE_LIMIT_WINDOW_MS=60000

# Máximo de requests por ventana
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit específico para login (prevenir fuerza bruta)
RATE_LIMIT_LOGIN_MAX=10

# ===================================
# File Upload
# ===================================
# Tamaño máximo de archivo en bytes (5MB = 5242880)
MAX_FILE_SIZE=5242880

# Directorio para uploads
UPLOAD_PATH=./uploads

# URL pública para acceder a uploads
UPLOAD_URL=http://localhost:3000/uploads

# ===================================
# Logging
# ===================================
# Niveles: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=debug

# Directorio de logs
LOG_DIR=./logs

# ===================================
# WebSocket
# ===================================
# Path del WebSocket
WEBSOCKET_PATH=/socket.io

# ===================================
# Geofencing
# ===================================
# Radio por defecto en metros
DEFAULT_GEOFENCE_RADIUS=100

# ===================================
# Location Tracking
# ===================================
# TTL para location_history en segundos (90 días = 7776000)
LOCATION_HISTORY_TTL=7776000

# Intervalo mínimo entre ubicaciones en segundos
MIN_LOCATION_INTERVAL=10

# Máximo de ubicaciones en batch
MAX_BATCH_LOCATIONS=100

# ===================================
# Alertas
# ===================================
# Umbral de batería baja (%)
BATTERY_LOW_THRESHOLD=15

# Minutos de inactividad antes de alertar
INACTIVITY_ALERT_MINUTES=60

# ===================================
# Suscripciones y Planes
# ===================================
# Días de prueba gratuita
TRIAL_DAYS=14

# Stripe (para pagos)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# ===================================
# Seguridad
# ===================================
# Bcrypt rounds para hash de contraseñas (10-12 recomendado)
BCRYPT_ROUNDS=10

# Máximo de intentos de login fallidos antes de bloquear
MAX_LOGIN_ATTEMPTS=5

# Tiempo de bloqueo en minutos
ACCOUNT_LOCK_TIME=30

# ===================================
# API Keys Externas
# ===================================
# Google Maps
GOOGLE_MAPS_API_KEY=

# SendGrid (alternativa para emails)
SENDGRID_API_KEY=

# Twilio (para SMS)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ===================================
# Monitoring y Analytics
# ===================================
# Sentry (error tracking)
SENTRY_DSN=

# Google Analytics
GA_TRACKING_ID=

# ===================================
# Otros
# ===================================
# Timezone por defecto
DEFAULT_TIMEZONE=America/Lima

# Idioma por defecto
DEFAULT_LANGUAGE=es

# Habilitar Swagger UI en producción (false recomendado)
ENABLE_SWAGGER_IN_PROD=false
